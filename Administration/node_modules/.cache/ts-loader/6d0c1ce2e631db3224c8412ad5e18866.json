{"remainingRequest":"/Users/sabrina/project/微信点单小程序/manager/node_modules/ts-loader/index.js??ref--12-1!/Users/sabrina/project/微信点单小程序/manager/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/sabrina/project/微信点单小程序/manager/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/sabrina/project/微信点单小程序/manager/src/views/login/index.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/sabrina/project/微信点单小程序/manager/src/views/login/index.vue","mtime":1620346178216},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZ2V0Q3VycmVudEluc3RhbmNlLCByZWYsIHJlYWN0aXZlIH0gZnJvbSAidnVlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAidnVlLXJvdXRlciI7CmV4cG9ydCBkZWZhdWx0IHsKICAgIHNldHVwOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwogICAgICAgIHZhciBjdHggPSBnZXRDdXJyZW50SW5zdGFuY2UoKS5jdHg7CiAgICAgICAgdmFyIHJ1bGVGb3Jtc3NzID0gcmVmKG51bGwpOwogICAgICAgIC8vIOWumuS5ieWPmOmHjwogICAgICAgIHZhciBydWxlRm9ybSA9IHJlYWN0aXZlKHsKICAgICAgICAgICAgcGhvbmU6ICIxNzM5MTk2MzY3MCIsCiAgICAgICAgICAgIHBhc3N3b3JkOiAic3l0OTgxMTI1IiwKICAgICAgICB9KTsKICAgICAgICAvLyDlrprkuYnpqozor4Hop4TliJkKICAgICAgICB2YXIgcnVsZXMgPSB7CiAgICAgICAgICAgIHBob25lOiBbCiAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5omL5py65Y+3IiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgICAgICAgICB7IG1pbjogMTEsIG1heDogMTEsIG1lc3NhZ2U6ICLor7fovpPlhaXmraPnoa7nmoTmiYvmnLrlj7ciLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgICAgcGFzc3dvcmQ6IFsKICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXlr4bnoIEiLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICAgICAgICAgIHsgbWluOiA2LCBtYXg6IDIwLCBtZXNzYWdlOiAi5a+G56CB6ZW/5bqm5LiN6IO95bCP5LqONuS9jSIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgICAgICBdLAogICAgICAgIH07CiAgICAgICAgLy8g56Gu6K6kCiAgICAgICAgdmFyIHN1Ym1pdEZvcm0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBydWxlRm9ybXNzcy52YWx1ZS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocnVsZUZvcm0pOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGhvbmUgPSBydWxlRm9ybS5waG9uZSwgcGFzc3dvcmQgPSBydWxlRm9ybS5wYXNzd29yZDsKICAgICAgICAgICAgICAgICAgICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvbWFuYWdlci9sb2dpbj8iICsgInBob25lPSIgKyBwaG9uZSArICImcGFzc3dvcmQ9IiArIHBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC4kbWVzc2FnZS5zdWNjZXNzKCfnmbvlvZXmiJDlip/kuoZ+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImxvZ2luLnJlc3BvbnNlIiwgcmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvaG9tZS9tYW5hZ2VNZW51Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInN1Y2Nlc3MuLi4uLiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcnVsZUZvcm06IHJ1bGVGb3JtLAogICAgICAgICAgICBydWxlczogcnVsZXMsCiAgICAgICAgICAgIHN1Ym1pdEZvcm06IHN1Ym1pdEZvcm0sCiAgICAgICAgICAgIHJ1bGVGb3Jtc3NzOiBydWxlRm9ybXNzcywKICAgICAgICB9OwogICAgfSwKfTsK"},{"version":3,"file":"/Users/sabrina/project/微信点单小程序/manager/src/views/login/index.vue.ts","sourceRoot":"","sources":["/Users/sabrina/project/微信点单小程序/manager/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/sabrina/project/微信点单小程序/manager/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/sabrina/project/微信点单小程序/manager/src/views/login/index.vue?vue&type=script&lang=ts"],"names":[],"mappings":"AACA,OAAO,EAAE,kBAAkB,EAAE,GAAG,EAAE,QAAQ,EAAiB,MAAM,KAAK,CAAC;AACvE,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,SAAS,EAAE,MAAM,YAAY,CAAC;AAOvC,eAAe;IACb,KAAK,EAAL;QACE,IAAM,MAAM,GAAG,SAAS,EAAE,CAAC;QACnB,IAAA,GAAG,GAAU,kBAAkB,EAAE,IAA9B,CAA+B;QAC1C,IAAM,WAAW,GAAG,GAAG,CAAM,IAAI,CAAC,CAAC;QACnC,OAAO;QACP,IAAM,QAAQ,GAAa,QAAQ,CAAW;YAC5C,KAAK,EAAE,aAAa;YACpB,QAAQ,EAAE,WAAW;SACtB,CAAC,CAAC;QACH,SAAS;QACT,IAAM,KAAK,GAAG;YACZ,KAAK,EAAE;gBACL,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,EAAE;gBACtD,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,OAAO,EAAE,WAAW,EAAE,OAAO,EAAE,MAAM,EAAE;aAC5D;YACD,QAAQ,EAAE;gBACR,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE;gBACrD,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,OAAO,EAAE,YAAY,EAAE,OAAO,EAAE,MAAM,EAAE;aAC5D;SACF,CAAC;QACF,KAAK;QACL,IAAM,UAAU,GAAG;YACjB,IAAI;gBACD,WAAW,CAAC,KAAa,CAAC,QAAQ,CAAC,UAAC,KAAc;oBACjD,IAAI,KAAK,EAAE;wBACT,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;wBACd,IAAA,KAAK,GAAe,QAAQ,MAAvB,EAAE,QAAQ,GAAK,QAAQ,SAAb,CAAc;wBACrC,KAAK,CAAC,GAAG,CAAC,sCAAsC,GAAC,QAAQ,GAAC,KAAK,GAAC,YAAY,GAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,QAAQ;4BACnG,IAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,KAAK,KAAK,EAAC;gCAC7B,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;gCAC/B,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAC,QAAQ,CAAC,CAAC;gCACvC,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;gCAChC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;6BAC7B;wBACH,CAAC,CAAC,CAAC;qBACJ;gBACH,CAAC,CAAC,CAAC;aACJ;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;aACpB;QACH,CAAC,CAAC;QACF,OAAO;YACL,QAAQ,UAAA;YACR,KAAK,OAAA;YACL,UAAU,YAAA;YACV,WAAW,aAAA;SACZ,CAAC;IACJ,CAAC;CACF,CAAC","sourcesContent":["\nimport { getCurrentInstance, ref, reactive, toRefs, unref } from \"vue\";\nimport axios from \"axios\";\nimport { useRouter } from \"vue-router\";\n\ninterface ModelRef {\n  phone: string;\n  password: string;\n}\n\nexport default {\n  setup() {\n    const router = useRouter();\n    const { ctx }: any = getCurrentInstance();\n    const ruleFormsss = ref<any>(null);\n    // 定义变量\n    const ruleForm: ModelRef = reactive<ModelRef>({\n      phone: \"17391963670\",\n      password: \"syt981125\",\n    });\n    // 定义验证规则\n    const rules = {\n      phone: [\n        { required: true, message: \"请输入手机号\", trigger: \"blur\" },\n        { min: 11, max: 11, message: \"请输入正确的手机号\", trigger: \"blur\" },\n      ],\n      password: [\n        { required: true, message: \"请输入密码\", trigger: \"blur\" },\n        { min: 6, max: 20, message: \"密码长度不能小于6位\", trigger: \"blur\" },\n      ],\n    };\n    // 确认\n    const submitForm = () => {\n      try {\n        (ruleFormsss.value as any).validate((valid: boolean) => {\n          if (valid) {\n            console.log(ruleForm);\n            const { phone, password } = ruleForm;\n            axios.get(\"http://localhost:3000/manager/login?\"+\"phone=\"+phone+\"&password=\"+password).then((response) => {\n              if(response.data.err === false){\n                ctx.$message.success('登录成功了~');\n                console.log(\"login.response\",response);\n                router.push('/home/manageMenu');\n                console.log(\"success.....\");\n              }\n            });\n          }\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    return {\n      ruleForm,\n      rules,\n      submitForm,\n      ruleFormsss,\n    };\n  },\n};\n"]}]}