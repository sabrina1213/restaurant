{"remainingRequest":"/Users/sabrina/project/微信点单小程序/manager/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/sabrina/project/微信点单小程序/manager/src/views/home/content/manageMenu/editMenu.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/sabrina/project/微信点单小程序/manager/src/views/home/content/manageMenu/editMenu.vue","mtime":1623918113861},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgcmVhY3RpdmUsIHJlZiwgb25Nb3VudGVkLGNvbXB1dGVkIH0gZnJvbSAidnVlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgdG9SYXcgfSBmcm9tICdAdnVlL3JlYWN0aXZpdHknCmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgc2V0dXAoKSB7CiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICAvL+iPnOWNleWIl+ihqAogICAgbGV0IHRhYmxlRGF0YSA9IGNvbXB1dGVkKCgpPT57CiAgICAgIHJldHVybiB0b1JhdyhzdG9yZS5nZXR0ZXJzLm1lbnVMaXN0KTsKICAgIH0pCiAgICAgIAogICAgY29uc29sZS5sb2cgKCJ0YWJsZURhdGEiLHRhYmxlRGF0YSk7CiAgICAvLyDnvJbovpHoj5zljZUKICAgIGNvbnN0IGhhbmRlbG1lbnUgPSAoaW5kZXg6IGFueSwgcm93OiBhbnkpID0+IHsKICAgICAgY29uc29sZS5sb2coaW5kZXgsIHJvdyk7CiAgICAgICAKICAgIH07CiAgICAvLyDliKDpmaToj5zljZUKICAgIGNvbnN0IGRlbGV0ZW1lbnUgPSAoaW5kZXg6IGFueSwgcm93OiBhbnkpID0+IHsKICAgICAgY29uc29sZS5sb2coaW5kZXgsIHJvdy5uYW1lKTsKICAgICAgIGF4aW9zCiAgICAgICAgICAuZ2V0KAogICAgICAgICAgICAiaHR0cDovL2xvY2FsaG9zdDozMDAwL21hbmFnZXIvZGVsZXRlbWVudT8iICsKICAgICAgICAgICAgICAia2V5PSIgKyByb3cubmFtZQogICAgICAgICAgICAgIAogICAgICAgICAgKQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICBpZihyZXMuZGF0YS5lcnIgPT0gZmFsc2UpewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLliKDpmaTmiJDlip8iKQogICAgICAgICAgICAgIGxldCBsaXN0ID0gdG9SYXcoc3RvcmUuc3RhdGUubWVudUxpc3QpOwogICAgICAgICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LDEpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJhZnRlciBkZWxldGUgbWVudWxpc3QgIixsaXN0KTsKICAgICAgICAgICAgICBzdG9yZS5jb21taXQoIm1lbnVMaXN0Q2hhbmdlZCIsIHsKICAgICAgICAgICAgICBsaXN0Omxpc3QKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgCiAgICB9OwogICBvbk1vdW50ZWQoKCkgPT4gewogICAgICAKICAgICAgIAogICAgfSk7CgogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhLAogICAgICBoYW5kZWxtZW51LAogICAgICBkZWxldGVtZW51LAogICAgfTsKICB9LAp9KTsK"},{"version":3,"sources":["/Users/sabrina/project/微信点单小程序/manager/src/views/home/content/manageMenu/editMenu.vue"],"names":[],"mappings":"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","file":"/Users/sabrina/project/微信点单小程序/manager/src/views/home/content/manageMenu/editMenu.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n    <el-row>\n      <el-table :data=\"tableData\" border style=\"width: 100%\">\n        <el-table-column label=\"图片\" width=\"80\">\n          <template #default=\"scope\">\n            <img style=\"height:50px;width:50px\" :src=\"scope.row.picture\" />\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"name\" label=\"菜名\" width=\"200\">\n        </el-table-column>\n        <el-table-column prop=\"price\" label=\"价格\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"detail\" label=\"详细说明\" width=\"600\">\n        </el-table-column>\n        <el-table-column label=\"操作\" fixed=\"right\"  width=\"100\">\n          <template #default=\"scope\">\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              @click=\"handelmenu(scope.$index, scope.row)\"\n              >编辑</el-button\n            >\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              @click=\"deletemenu(scope.$index, scope.row)\"\n              >删除</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-row>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, onMounted,computed } from \"vue\";\nimport axios from \"axios\";\nimport { toRaw } from '@vue/reactivity'\nimport { useStore } from 'vuex';\nexport default defineComponent({\n  setup() {\n    const store = useStore();\n    //菜单列表\n    let tableData = computed(()=>{\n      return toRaw(store.getters.menuList);\n    })\n      \n    console.log (\"tableData\",tableData);\n    // 编辑菜单\n    const handelmenu = (index: any, row: any) => {\n      console.log(index, row);\n       \n    };\n    // 删除菜单\n    const deletemenu = (index: any, row: any) => {\n      console.log(index, row.name);\n       axios\n          .get(\n            \"http://localhost:3000/manager/deletemenu?\" +\n              \"key=\" + row.name\n              \n          )\n          .then((res) => {\n            console.log(res);\n            if(res.data.err == false){\n              console.log(\"删除成功\")\n              let list = toRaw(store.state.menuList);\n              list.splice(index,1);\n              console.log(\"after delete menulist \",list);\n              store.commit(\"menuListChanged\", {\n              list:list\n            });\n            }\n          });\n       \n    };\n   onMounted(() => {\n      \n       \n    });\n\n    return {\n      tableData,\n      handelmenu,\n      deletemenu,\n    };\n  },\n});\n</script>\n\n\n<style scoped>\n\n.add-row {\n  padding: 0px 0px 10px 10px;\n}\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #409eff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n</style>"]}]}