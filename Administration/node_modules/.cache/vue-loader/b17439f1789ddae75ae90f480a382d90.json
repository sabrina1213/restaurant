{"remainingRequest":"/Users/sabrina/project/微信点单小程序/manager/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/sabrina/project/微信点单小程序/manager/src/views/login/index.vue?vue&type=style&index=0&id=37dfd6fc&scoped=true&lang=css","dependencies":[{"path":"/Users/sabrina/project/微信点单小程序/manager/src/views/login/index.vue","mtime":1620346178216},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmJvZHkgewogIG1hcmdpbjogMDsKICBwYWRkaW5nOiAwOwp9Ci5sb2dpbiB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDB2aDsKICBvdmVyZmxvdzogaGlkZGVuOwogIGJhY2tncm91bmQtY29sb3I6ICMyZjM0NDc7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBhbGlnbi1pdGVtczogY2VudGVyOwp9Ci5idG4tYm94IHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIHBhZGRpbmc6IDAgMzBweDsKICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9Cg=="},{"version":3,"sources":["/Users/sabrina/project/微信点单小程序/manager/src/views/login/index.vue"],"names":[],"mappings":";AAwFA,CAAC,CAAC,CAAC,EAAE;EACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;EACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AACZ;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxB","file":"/Users/sabrina/project/微信点单小程序/manager/src/views/login/index.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"login\">\n    <el-form\n      :model=\"ruleForm\"\n      :rules=\"rules\"\n      ref=\"ruleFormsss\"\n      label-width=\"60px\"\n    >\n      <el-form-item label=\"用户\" prop=\"username\">\n        <el-input v-model=\"ruleForm.phone\" style=\"width: 300px\" autocomplete=\"on\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"密码\" prop=\"password\">\n        <el-input v-model=\"ruleForm.password\" style=\"width: 300px\"></el-input>\n      </el-form-item>\n      <div class=\"btn-box\">\n        <el-button\n          type=\"primary\"\n          size=\"medium\"\n          @click=\"submitForm\"\n          style=\"width: 200px\"\n          >登录</el-button\n        >\n      </div>\n    </el-form>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { getCurrentInstance, ref, reactive, toRefs, unref } from \"vue\";\nimport axios from \"axios\";\nimport { useRouter } from \"vue-router\";\n\ninterface ModelRef {\n  phone: string;\n  password: string;\n}\n\nexport default {\n  setup() {\n    const router = useRouter();\n    const { ctx }: any = getCurrentInstance();\n    const ruleFormsss = ref<any>(null);\n    // 定义变量\n    const ruleForm: ModelRef = reactive<ModelRef>({\n      phone: \"17391963670\",\n      password: \"syt981125\",\n    });\n    // 定义验证规则\n    const rules = {\n      phone: [\n        { required: true, message: \"请输入手机号\", trigger: \"blur\" },\n        { min: 11, max: 11, message: \"请输入正确的手机号\", trigger: \"blur\" },\n      ],\n      password: [\n        { required: true, message: \"请输入密码\", trigger: \"blur\" },\n        { min: 6, max: 20, message: \"密码长度不能小于6位\", trigger: \"blur\" },\n      ],\n    };\n    // 确认\n    const submitForm = () => {\n      try {\n        (ruleFormsss.value as any).validate((valid: boolean) => {\n          if (valid) {\n            console.log(ruleForm);\n            const { phone, password } = ruleForm;\n            axios.get(\"http://localhost:3000/manager/login?\"+\"phone=\"+phone+\"&password=\"+password).then((response) => {\n              if(response.data.err === false){\n                ctx.$message.success('登录成功了~');\n                console.log(\"login.response\",response);\n                router.push('/home/manageMenu');\n                console.log(\"success.....\");\n              }\n            });\n          }\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    return {\n      ruleForm,\n      rules,\n      submitForm,\n      ruleFormsss,\n    };\n  },\n};\n</script>\n<style scoped>\nbody {\n  margin: 0;\n  padding: 0;\n}\n.login {\n  width: 100%;\n  height: 100vh;\n  overflow: hidden;\n  background-color: #2f3447;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.btn-box {\n  display: flex;\n  justify-content: center;\n  padding: 0 30px;\n  box-sizing: border-box;\n}\n</style>\n"]}]}