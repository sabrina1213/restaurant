{"remainingRequest":"/Users/sabrina/project/微信点单小程序/manager/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/sabrina/project/微信点单小程序/manager/src/views/home/content/manageMenu/editMenu.vue?vue&type=style&index=0&id=0ed39d28&scoped=true&lang=css","dependencies":[{"path":"/Users/sabrina/project/微信点单小程序/manager/src/views/home/content/manageMenu/editMenu.vue","mtime":1623918113861},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sabrina/project/微信点单小程序/manager/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgouYWRkLXJvdyB7CiAgcGFkZGluZzogMHB4IDBweCAxMHB4IDEwcHg7Cn0KLmF2YXRhci11cGxvYWRlciAuZWwtdXBsb2FkIHsKICBib3JkZXI6IDFweCBkYXNoZWQgI2Q5ZDlkOTsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBvdmVyZmxvdzogaGlkZGVuOwp9Ci5hdmF0YXItdXBsb2FkZXIgLmVsLXVwbG9hZDpob3ZlciB7CiAgYm9yZGVyLWNvbG9yOiAjNDA5ZWZmOwp9Ci5hdmF0YXItdXBsb2FkZXItaWNvbiB7CiAgZm9udC1zaXplOiAyOHB4OwogIGNvbG9yOiAjOGM5MzlkOwogIHdpZHRoOiAxNzhweDsKICBoZWlnaHQ6IDE3OHB4OwogIGxpbmUtaGVpZ2h0OiAxNzhweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KLmF2YXRhciB7CiAgd2lkdGg6IDE3OHB4OwogIGhlaWdodDogMTc4cHg7CiAgZGlzcGxheTogYmxvY2s7Cn0K"},{"version":3,"sources":["/Users/sabrina/project/微信点单小程序/manager/src/views/home/content/manageMenu/editMenu.vue"],"names":[],"mappings":";;AA8FA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC5B;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAClB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACN,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAChB","file":"/Users/sabrina/project/微信点单小程序/manager/src/views/home/content/manageMenu/editMenu.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n    <el-row>\n      <el-table :data=\"tableData\" border style=\"width: 100%\">\n        <el-table-column label=\"图片\" width=\"80\">\n          <template #default=\"scope\">\n            <img style=\"height:50px;width:50px\" :src=\"scope.row.picture\" />\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"name\" label=\"菜名\" width=\"200\">\n        </el-table-column>\n        <el-table-column prop=\"price\" label=\"价格\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"detail\" label=\"详细说明\" width=\"600\">\n        </el-table-column>\n        <el-table-column label=\"操作\" fixed=\"right\"  width=\"100\">\n          <template #default=\"scope\">\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              @click=\"handelmenu(scope.$index, scope.row)\"\n              >编辑</el-button\n            >\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              @click=\"deletemenu(scope.$index, scope.row)\"\n              >删除</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-row>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, onMounted,computed } from \"vue\";\nimport axios from \"axios\";\nimport { toRaw } from '@vue/reactivity'\nimport { useStore } from 'vuex';\nexport default defineComponent({\n  setup() {\n    const store = useStore();\n    //菜单列表\n    let tableData = computed(()=>{\n      return toRaw(store.getters.menuList);\n    })\n      \n    console.log (\"tableData\",tableData);\n    // 编辑菜单\n    const handelmenu = (index: any, row: any) => {\n      console.log(index, row);\n       \n    };\n    // 删除菜单\n    const deletemenu = (index: any, row: any) => {\n      console.log(index, row.name);\n       axios\n          .get(\n            \"http://localhost:3000/manager/deletemenu?\" +\n              \"key=\" + row.name\n              \n          )\n          .then((res) => {\n            console.log(res);\n            if(res.data.err == false){\n              console.log(\"删除成功\")\n              let list = toRaw(store.state.menuList);\n              list.splice(index,1);\n              console.log(\"after delete menulist \",list);\n              store.commit(\"menuListChanged\", {\n              list:list\n            });\n            }\n          });\n       \n    };\n   onMounted(() => {\n      \n       \n    });\n\n    return {\n      tableData,\n      handelmenu,\n      deletemenu,\n    };\n  },\n});\n</script>\n\n\n<style scoped>\n\n.add-row {\n  padding: 0px 0px 10px 10px;\n}\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #409eff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n</style>"]}]}