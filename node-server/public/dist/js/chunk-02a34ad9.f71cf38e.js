(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02a34ad9"],{"0dfd":function(e,t,c){},"0e82":function(e,t,c){"use strict";c("fed3")},"1e4b":function(e,t,c){"use strict";c.r(t);var n=c("7a23");const l=Object(n["C"])("data-v-5d6aa6ce");Object(n["t"])("data-v-5d6aa6ce");const o={class:"page"},i=Object(n["g"])("div",{class:"top"},"妖精的店铺",-1),s={class:"title"},a={class:"table"},b={class:"bar"},u={class:"middle"},d={class:"middle-left"},r={class:"middle-right"},j={class:"bottom"},O={key:0,class:"mengceng"};Object(n["r"])();const v=l((e,t,c,l,v,g)=>{const m=Object(n["x"])("Table"),p=Object(n["x"])("Bar"),h=Object(n["x"])("Nav"),f=Object(n["x"])("Menu"),y=Object(n["x"])("Car");return Object(n["q"])(),Object(n["d"])("div",o,[i,Object(n["g"])("div",s,[Object(n["g"])("div",a,[Object(n["g"])(m)]),Object(n["g"])("div",b,[Object(n["g"])(p)])]),Object(n["g"])("div",u,[Object(n["g"])("div",d,[Object(n["g"])(h,{onNavEmit:l.whichType},null,8,["onNavEmit"])]),Object(n["g"])("div",r,[Object(n["g"])(f,{type:l.whichtype},null,8,["type"])])]),Object(n["g"])("div",j,[l.isshowMengCeng?(Object(n["q"])(),Object(n["d"])("div",O)):Object(n["e"])("",!0),Object(n["g"])(y,{onCarEmit:l.isMengCeng,value:l.isshowMengCeng},null,8,["onCarEmit","value"])])])});function g(e,t,c,l,o,i){return Object(n["q"])(),Object(n["d"])("div",null,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(e.typelist,(t,c)=>(Object(n["q"])(),Object(n["d"])("div",{key:c,class:{box:!0,box1:e.box1==c},onClick:t=>e.mouseclick(c)},Object(n["z"])(t.type),11,["onClick"]))),128))])}var m=c("bc3a"),p=c.n(m);const h=e=>t=>new Promise((c,n)=>{p.a.get(e,{params:t}).then(t=>{console.log(e,t,"request.js");const n=t.data;!1===n.err&&c(n)}).catch(e=>{n(e)})}),f=e=>t=>new Promise((c,n)=>{p.a.post(e,{params:t}).then(t=>{console.log(e,t,"request.js");const n=t.data;!1===n.err&&c(n)}).catch(e=>{n(e)})}),y=h("/client/getTpyeList"),w=h("/client/getMenuList"),C=f("/client/postBillList");var k=c("5502"),x=Object(n["h"])({name:"Nav",setup(e,{emit:t}){const c=Object(k["b"])();let l=Object(n["v"])(),o=Object(n["v"])(0);Object(n["o"])(()=>{y().then(e=>{console.log("getTpyeList",e),0==e.err&&(l.value=e.list,console.log("typelist upgrade",l.value),t("navEmit",l.value[0].type),w().then(e=>{c.commit("menuListChanged",{list:e.list})}))})});const i=e=>{console.log("mouseclick",e,l.value[e].type),o.value=e,t("navEmit",l.value[e].type)};return{typelist:l,mouseclick:i,box1:o}}});c("4951");x.render=g;var q=x;const L=Object(n["C"])("data-v-558aad38");Object(n["t"])("data-v-558aad38");const B={class:"left"},E={class:"right"},S={class:"right-top"},z={class:"right-bottom"},I={class:"price"},M={class:"add-botton"},T=Object(n["g"])("i",{class:"iconfont icon-iconset0187"},null,-1),A={key:1,style:{display:"inline"}},N=Object(n["g"])("i",{class:"iconfont icon-iconset0186"},null,-1);Object(n["r"])();const _=L((e,t,c,l,o,i)=>(Object(n["q"])(),Object(n["d"])("div",null,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(e.menuList,(t,c)=>(Object(n["q"])(),Object(n["d"])("div",{key:c,class:"menu-box"},[Object(n["g"])("div",B,[Object(n["g"])("img",{src:t.picture,style:{width:"80px",height:"80px","border-radius":"10px"}},null,8,["src"])]),Object(n["g"])("div",E,[Object(n["g"])("div",S,Object(n["z"])(t.name),1),Object(n["g"])("div",z,[Object(n["g"])("div",I,Object(n["z"])(t.price),1),Object(n["g"])("div",M,[t.count>0?(Object(n["q"])(),Object(n["d"])("div",{key:0,style:{display:"inline"},onClick:t=>e.numSub(c)},[T],8,["onClick"])):Object(n["e"])("",!0),t.count>0?(Object(n["q"])(),Object(n["d"])("div",A,Object(n["z"])(t.count),1)):Object(n["e"])("",!0),Object(n["g"])("div",{style:{display:"inline"},onClick:t=>e.numAdd(c)},[N],8,["onClick"])])])])]))),128))])));var P=Object(n["h"])({name:"Menu",props:{type:String},setup(e){const t=Object(k["b"])();let c=Object(n["b"])(()=>(console.log("列表更新"),t.state.menuList.filter(t=>t.type==e.type))),l=[];const o=e=>{console.log("numadd",l),c.value[e].count++,console.log("new menulist",c),t.commit("menuListAddCount",{name:c.value[e].name,count:c.value[e].count})},i=e=>{console.log("numsub",l),c.value[e].count--,console.log("new menulist",c),t.commit("menuListAddCount",{name:c.value[e].name,count:c.value[e].count})};return{menuList:c,numAdd:o,numSub:i}}});c("bd11");P.render=_,P.__scopeId="data-v-558aad38";var J=P;const D=Object(n["C"])("data-v-b72f2410");Object(n["t"])("data-v-b72f2410");const F={class:"shoppingCar"},G={class:"bill-box-child-left"},H={class:"bill-box-child-middle"},K={class:"bill-box-child-right"},Q=Object(n["g"])("i",{class:"iconfont icon-iconset0187"},null,-1),R=Object(n["g"])("i",{class:"iconfont icon-iconset0186"},null,-1),U={class:"box"},V=Object(n["g"])("i",{class:"iconfont icon-iconset0308",style:{"font-size":"30px"}},null,-1),W={class:"middle"};Object(n["r"])();const X=D((e,t,c,l,o,i)=>(Object(n["q"])(),Object(n["d"])("div",F,[l.isshow?(Object(n["q"])(),Object(n["d"])("div",{class:"bill-box",key:l.isshow},[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(l.menuList,(e,t)=>(Object(n["q"])(),Object(n["d"])("div",{key:t,class:"bill-box-child"},[Object(n["g"])("div",G,Object(n["z"])(e.name),1),Object(n["g"])("div",H,"¥"+Object(n["z"])(e.price),1),Object(n["g"])("div",K,[Object(n["g"])("div",{style:{display:"inline"},onClick:e=>l.numSub(t)},[Q],8,["onClick"]),Object(n["f"])(" "+Object(n["z"])(e.count)+" ",1),Object(n["g"])("div",{style:{display:"inline"},onClick:e=>l.numAdd(t)},[R],8,["onClick"])])]))),128))])):Object(n["e"])("",!0),Object(n["g"])("div",U,[Object(n["g"])("div",{class:"left",onClick:t[1]||(t[1]=(...e)=>l.showbill&&l.showbill(...e))},[V]),Object(n["g"])("div",W,"¥ "+Object(n["z"])(l.totalPrice),1),Object(n["g"])("div",{class:"right",onClick:t[2]||(t[2]=(...e)=>l.toEnsureBill&&l.toEnsureBill(...e))},"点击下单")])])));var Y=c("6c02"),Z={name:"Car",props:{value:Boolean},setup(e,{emit:t}){const c=Object(k["b"])(),l=Object(Y["d"])();let o=Object(n["b"])(()=>(console.log("列表更新"),c.state.menuList.filter(e=>0!=e.count))),i=Object(n["b"])(()=>{let e=0;return o.value.forEach(t=>{e+=t.count*t.price}),e}),s=Object(n["v"])(!1);const a=()=>{console.log("isshow",s,"from father value",e.value),s.value=!s.value,t("carEmit",s.value)},b=e=>{console.log("numsub"),o.value[e].count--,console.log("new menulist",o),c.commit("menuListAddCount",{name:o.value[e].name,count:o.value[e].count})},u=e=>{console.log("numadd"),o.value[e].count++,console.log("new menulist",o),c.commit("menuListAddCount",{name:o.value[e].name,count:o.value[e].count})},d=()=>{if(o.value.length>0){console.log("postBillList",o);var e=window.location.search,t=e.slice(6);C({list:o.value,money:i.value,table:t}).then(e=>{0==e.err&&(console.log(e.billNumber,e.submissionTime),l.push({path:"/bill",query:{billNumber:e.billNumber,submissionTime:e.submissionTime}}))})}else alert("请添加商品")};return{totalPrice:i,isshow:s,menuList:o,showbill:a,toEnsureBill:d,numSub:b,numAdd:u}}};c("7383");Z.render=X,Z.__scopeId="data-v-b72f2410";var $=Z;const ee={class:"iconfont icon-canting "};function te(e,t,c,l,o,i){return Object(n["q"])(),Object(n["d"])("div",null,[Object(n["g"])("i",ee,"桌号"+Object(n["z"])(e.number),1)])}var ce=Object(n["h"])({setup(){let e=Object(n["v"])("");return Object(n["o"])(()=>{var t=window.location.search;e.value=t.slice(6),console.log(e,"number")}),{number:e}}});ce.render=te;var ne=ce;const le=Object(n["C"])("data-v-1649bb48");Object(n["t"])("data-v-1649bb48");const oe={class:"box"},ie={class:"left"},se={class:"middle"},ae={class:"right"};Object(n["r"])();const be=le((e,t,c,l,o,i)=>{const s=Object(n["x"])("Information"),a=Object(n["x"])("Search"),b=Object(n["x"])("Bill");return Object(n["q"])(),Object(n["d"])("div",oe,[Object(n["g"])("div",ie,[Object(n["g"])(s)]),Object(n["g"])("div",se,[Object(n["g"])(a)]),Object(n["g"])("div",ae,[Object(n["g"])(b)])])}),ue=Object(n["g"])("i",{class:"iconfont icon-dingdan "},null,-1);function de(e,t,c,l,o,i){return Object(n["q"])(),Object(n["d"])("div",null,[Object(n["g"])("div",{onClick:t[1]||(t[1]=(...e)=>l.toBill&&l.toBill(...e))},[ue])])}var re={setup(){const e=Object(Y["d"])(),t=()=>{console.log("tobill"),e.push("/bill")};return{toBill:t}}};re.render=de;var je=re;const Oe=Object(n["g"])("i",{class:"iconfont icon-xiaoxi"},null,-1);function ve(e,t,c,l,o,i){return Object(n["q"])(),Object(n["d"])("div",null,[Object(n["g"])("div",{onClick:t[1]||(t[1]=(...t)=>e.toInfo&&e.toInfo(...t))},[Oe])])}var ge=Object(n["h"])({setup(){const e=Object(Y["d"])(),t=()=>{e.push("/info"),console.log(" to infomtion")};return{toInfo:t}}});ge.render=ve;var me=ge;const pe=Object(n["g"])("i",{class:"iconfont icon-sousuo "},null,-1);function he(e,t,c,l,o,i){return Object(n["q"])(),Object(n["d"])("div",null,[Object(n["g"])("div",{onClick:t[1]||(t[1]=(...e)=>l.toSearch&&l.toSearch(...e))},[pe])])}var fe={setup(){const e=Object(Y["d"])(),t=()=>{console.log("toSearch"),e.push("/search")};return{toSearch:t}}};fe.render=he;var ye=fe,we={components:{Bill:je,Information:me,Search:ye}};c("fcc4");we.render=be,we.__scopeId="data-v-1649bb48";var Ce=we,ke={components:{Nav:q,Menu:J,Car:$,Table:ne,Bar:Ce},setup:function(){var e=Object(n["v"])(!1),t=function(t){e.value=t,console.log("showmengceng",t)},c=Object(n["v"])(),l=function(e){c.value=e,console.log("----------index get type------------",c.value,e)};return{isshowMengCeng:e,isMengCeng:t,whichType:l,whichtype:c}}};c("0e82");ke.render=v,ke.__scopeId="data-v-5d6aa6ce";t["default"]=ke},"1f8a":function(e,t,c){},4951:function(e,t,c){"use strict";c("f3b3")},7383:function(e,t,c){"use strict";c("bd87")},bd11:function(e,t,c){"use strict";c("0dfd")},bd87:function(e,t,c){},f3b3:function(e,t,c){},fcc4:function(e,t,c){"use strict";c("1f8a")},fed3:function(e,t,c){}}]);
//# sourceMappingURL=chunk-02a34ad9.f71cf38e.js.map